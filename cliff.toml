# git-cliff configuration file

[changelog]
# Changelog header
header = """
# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).
"""

# Template for the changelog body
# https://github.com/orhun/git-cliff/blob/main/CLIFF.md
body = """
{% if version %}\
## [{{ version | trim_start_matches(pat="v") }}] - {{ timestamp }}
{% else %}\
## [Unreleased]
{% endif %}\
{% for group, commits in commits | group_by(attribute="group") %}
### {{ group | striptags | trim }}
{% for commit in commits %}
- {{ commit.message | striptags | first_line }} ([{{ commit.id | truncate(length=7, end="") }}](https://github.com/Timi16/soroban-debugger/commit/{{ commit.id }}))
{% endfor %}
{% endfor %}
"""

# Remove the leading "v" from versions
version_trim = true

[git]
# Parse commits between this range
conventional_commits = true
commit_parsers = [
    { message = "^feat", group = "Added" },
    { message = "^fix", group = "Fixed" },
    { message = "^docs", group = "Documentation" },
    { message = "^style", group = "Styles" },
    { message = "^refactor", group = "Refactored" },
    { message = "^perf", group = "Performance" },
    { message = "^test", group = "Testing" },
    { message = "^chore", group = "Maintenance" },
    { message = "^ci", group = "CI/CD" },
    { message = "^revert", group = "Reverted" },
]
# Filter out commits that are not relevant for the changelog
filter_commits = []

[基石]
# Link replacement rules
link_parsers = [
    { pattern = "#(\\d+)", replace = "[#${1}](https://github.com/Timi16/soroban-debugger/issues/${1})" },
    { pattern = "([0-9a-f]{7})[0-9a-f]*", replace = "[${1}](https://github.com/Timi16/soroban-debugger/commit/${1})" },
]
